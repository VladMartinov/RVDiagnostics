<Window x:Class="RVDiagnostics.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:RVDiagnostics.Controls"
        mc:Ignorable="d"
        Title="{DynamicResource App.Title}" Height="720" Width="1280"
        WindowStyle="None" ResizeMode="NoResize" Background="#0f1724">

    <Grid>
        <!-- Top draggable custom bar -->
        <Border Background="#111827" Height="60" VerticalAlignment="Top" MouseDown="Window_MouseDown">
            <Grid Margin="16,0">

                <!-- Left Area: Logo + Title -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <controls:Logo Text="RV"
                                   Size="37"
                                   CornerRadius="6"
                                   Margin="0,0,10,0"
                                   FontSize="16"/>

                    <StackPanel>
                        <TextBlock Text="{DynamicResource App.Title}" Foreground="White" FontSize="16" FontWeight="Bold"/>
                        <TextBlock Text="{DynamicResource App.SubTitle}" Foreground="#9aa4b2" FontSize="12"/>
                    </StackPanel>
                </StackPanel>


                <!-- Right Area: Connection Status -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,6,0">
                    <Ellipse x:Name="ConnDot" Width="10" Height="10" Fill="#ef4444" Margin="0,0,8,0"/>
                    <StackPanel>
                        <TextBlock x:Name="ConnState" Text="{DynamicResource Status.Disconnected}" Foreground="White" FontSize="13"/>
                        <TextBlock x:Name="ConnDetails" Text="COM: — | Baud: 9600" Foreground="#9aa4b2" FontSize="11"/>
                    </StackPanel>
                </StackPanel>

            </Grid>
        </Border>

        <!-- Dynamic Content Area -->
        <ContentControl x:Name="MainContent" Margin="0,60,0,50" />

        <Border Background="#111827" Height="50" VerticalAlignment="Bottom">
            <Grid Margin="16,0">
                <!-- Left tip text -->
                <TextBlock Text="{DynamicResource UI.BottomHint}"
                           VerticalAlignment="Center"
                           Foreground="#9aa4b2" FontSize="13"/>

                <!-- Right Buttons -->
                <StackPanel Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center">
                    
                        <Button Content="{DynamicResource UI.Help}" Width="80" Margin="0,0,8,0"/>
                        <Button Content="{DynamicResource UI.Settings}" Width="90" Margin="0,0,8,0" Click="OpenSettings"/>
                        <Button Content="{DynamicResource UI.Exit}" Width="80" Style="{StaticResource PrimaryButton}" Click="CloseApp"/>

                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
